"use strict";

var playBtn = document.querySelector('.bonus__main-wheel-btn'),
  main = document.querySelector('.bonus__main'),
  chips = document.querySelectorAll('.bonus__chip'),
  popupChips = document.querySelectorAll('.bonus__overlay-chip'),
  firstWoman = document.querySelector('.bonus__overlay-firstWoman'),
  secondWoman = document.querySelector('.bonus__overlay-secondWoman'),
  wheel = document.querySelector('.bonus__main-wheel-reel'),
  overlay = document.querySelector('.bonus__overlay'),
  popupFirst = document.querySelector('.bonus__firstWin'),
  popupFirstBtn = document.querySelector('.bonus__firstWin-btn'),
  popupSecond = document.querySelector('.bonus__secondWin'),
  overflow = document.querySelector('body'),
  video = document.querySelector('.bonus__main-video-bg'),
  wrapper = document.querySelector('.bonus');
var bonusText = document.querySelector('.bonus__main-bubble');
window.onload = videoSource(video, 'img/video.mp4', 'video/mp4');
function videoSource(element, src, type) {
  if (window.innerWidth > 1024) {
    var source = document.createElement('source');
    source.src = src;
    source.type = type;
    video.appendChild(source);
  }
}
var triesCounter = 0;
playBtn.addEventListener('click', function () {
  if (triesCounter === 0) {
    runFirstRotation();
  } else {
    runSecondRotation();
  }
});
function runFirstRotation() {
  wheel.classList.add('reel-rotation-first');
  playBtn.classList.remove('pulse-btn');
  playBtn.style.cursor = 'default';
  wrapper.style.pointerEvents = 'none';
  setTimeout(function () {
    doAfterFirstRotation();
  }, 6000);
  triesCounter++;
}
function doAfterFirstRotation() {
  wheel.style.transform = 'rotate(992deg)';
  wheel.classList.remove('reel-rotation-first');
  overlay.classList.add('win-tab');
  overlay.classList.add('win-mob');
  firstWoman.classList.remove('hide');
  displayPopup(popupFirst);
  wrapper.style.pointerEvents = 'auto';
  overflow.style.overflow = 'hidden';
  setTimeout(function () {
    playBtn.classList.add('pulse-btn');
    playBtn.style.cursor = 'pointer';
    bonusText.style.display = "none";
  }, 1200);
}
function runSecondRotation() {
  wheel.classList.add('reel-rotation-second');
  playBtn.classList.remove('pulse-btn');
  playBtn.style.cursor = 'default';
  overflow.style.overflow = 'hidden';
  wrapper.style.pointerEvents = 'none';
  setTimeout(function () {
    doAfterSecondRotation();
  }, 6000);
  triesCounter++;
}
function doAfterSecondRotation() {
  overlay.classList.add('win-tab');
  overlay.classList.add('win-mob');
  secondWoman.classList.remove('hide');
  displayPopup(popupSecond);
  wrapper.style.pointerEvents = 'auto';
}
popupFirstBtn.addEventListener('click', function () {
  main.classList.remove('blur');
  firstWoman.classList.add('hide');
  chips.forEach(function (el) {
    el.classList.remove('blur');
  });
  overlay.classList.add('opacity-overlay');
  popupFirst.classList.add('hide');
  overflow.style.overflow = 'unset';
  overlay.classList.remove('win-tab');
  overlay.classList.remove('win-mob');
});
function displayPopup(popup) {
  overlay.classList.remove('opacity-overlay');
  popup.classList.remove('hide');
  main.classList.add('blur');
  chips.forEach(function (el) {
    el.classList.add('blur');
  });
  popupChips.forEach(function (el) {
    el.classList.remove('hide');
  });
}
"use strict";
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJzZWNvbmQuanMiXSwibmFtZXMiOlsicGxheUJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1haW4iLCJjaGlwcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwb3B1cENoaXBzIiwiZmlyc3RXb21hbiIsInNlY29uZFdvbWFuIiwid2hlZWwiLCJvdmVybGF5IiwicG9wdXBGaXJzdCIsInBvcHVwRmlyc3RCdG4iLCJwb3B1cFNlY29uZCIsIm92ZXJmbG93IiwidmlkZW8iLCJ3cmFwcGVyIiwiYm9udXNUZXh0Iiwid2luZG93Iiwib25sb2FkIiwidmlkZW9Tb3VyY2UiLCJlbGVtZW50Iiwic3JjIiwidHlwZSIsImlubmVyV2lkdGgiLCJzb3VyY2UiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJ0cmllc0NvdW50ZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicnVuRmlyc3RSb3RhdGlvbiIsInJ1blNlY29uZFJvdGF0aW9uIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwic3R5bGUiLCJjdXJzb3IiLCJwb2ludGVyRXZlbnRzIiwic2V0VGltZW91dCIsImRvQWZ0ZXJGaXJzdFJvdGF0aW9uIiwidHJhbnNmb3JtIiwiZGlzcGxheVBvcHVwIiwiZGlzcGxheSIsImRvQWZ0ZXJTZWNvbmRSb3RhdGlvbiIsImZvckVhY2giLCJlbCIsInBvcHVwIl0sIm1hcHBpbmdzIjoiOztBQUNBLElBQU1BLE9BQU8sR0FBR0MsUUFBUSxDQUFDQyxhQUFhLENBQUMsd0JBQXdCLENBQUM7RUFDMURDLElBQUksR0FBR0YsUUFBUSxDQUFDQyxhQUFhLENBQUMsY0FBYyxDQUFDO0VBQzdDRSxLQUFLLEdBQUdILFFBQVEsQ0FBQ0ksZ0JBQWdCLENBQUMsY0FBYyxDQUFDO0VBQ2pEQyxVQUFVLEdBQUdMLFFBQVEsQ0FBQ0ksZ0JBQWdCLENBQUMsc0JBQXNCLENBQUM7RUFDOURFLFVBQVUsR0FBR04sUUFBUSxDQUFDQyxhQUFhLENBQUMsNEJBQTRCLENB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N0IsS0FBSyxDQUFDd0MsT0FBTyxDQUFDLFVBQVVDLEVBQUUsRUFBRTtJQUN4QkEsRUFBRSxDQUFDYixTQUFTLENBQUNFLE1BQU0sQ0FBQyxNQUFNLENBQUM7RUFDL0IsQ0FBQyxDQUFDO0VBQ0Z4QixPQUFPLENBQUNzQixTQUFTLENBQUNDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQztFQUN4Q3RCLFVBQVUsQ0FBQ3FCLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDLE1BQU0sQ0FBQztFQUNoQ25CLFFBQVEsQ0FBQ3FCLEtBQUssQ0FBQ3JCLFFBQVEsR0FBRyxPQUFPO0VBQ2pDSixPQUFPLENBQUNzQixTQUFTLENBQUNFLE1BQU0sQ0FBQyxTQUFTLENBQUM7RUFDbkN4QixPQUFPLENBQUNzQixTQUFTLENBQUNFLE1BQU0sQ0FBQyxTQUFTLENBQUM7QUFDdkMsQ0FBQyxDQUFDO0FBRUYsU0FBU08sWUFBWSxDQUFDSyxLQUFLLEVBQUU7RUFDekJwQyxPQUFPLENBQUNzQixTQUFTLENBQUNFLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztFQUMzQ1ksS0FBSyxDQUFDZCxTQUFTLENBQUNFLE1BQU0sQ0FBQyxNQUFNLENBQUM7RUFDOUIvQixJQUFJLENBQUM2QixTQUFTLENBQUNDLEdBQUcsQ0FBQyxNQUFNLENBQUM7RUFDMUI3QixLQUFLLENBQUN3QyxPQUFPLENBQUMsVUFBVUMsRUFBRSxFQUFFO0lBQ3hCQSxFQUFFLENBQUNiLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDLE1BQU0sQ0FBQztFQUM1QixDQUFDLENBQUM7RUFDRjNCLFVBQVUsQ0FBQ3NDLE9BQU8sQ0FBQyxVQUFVQyxFQUFFLEVBQUU7SUFDN0JBLEVBQUUsQ0FBQ2IsU0FBUyxDQUFDRSxNQUFNLENBQUMsTUFBTSxDQUFDO0VBQy9CLENBQUMsQ0FBQztBQUNOO0FDbEhBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IHBsYXlCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9udXNfX21haW4td2hlZWwtYnRuJyksXG4gICAgICBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvbnVzX19tYWluJyksXG4gICAgICBjaGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ib251c19fY2hpcCcpLFxuICAgICAgcG9wdXBDaGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ib251c19fb3ZlcmxheS1jaGlwJyksXG4gICAgICBmaXJzdFdvbWFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvbnVzX19vdmVybGF5LWZpcnN0V29tYW4nKSxcbiAgICAgIHNlY29uZFdvbWFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvbnVzX19vdmVybGF5LXNlY29uZFdvbWFuJyksXG4gICAgICB3aGVlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib251c19fbWFpbi13aGVlbC1yZWVsJyksXG4gICAgICBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvbnVzX19vdmVybGF5JyksXG4gICAgICBwb3B1cEZpcnN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvbnVzX19maXJzdFdpbicpLFxuICAgICAgcG9wdXBGaXJzdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib251c19fZmlyc3RXaW4tYnRuJyksXG4gICAgICBwb3B1cFNlY29uZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib251c19fc2Vjb25kV2luJyksXG4gICAgICBvdmVyZmxvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKSxcbiAgICAgIHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvbnVzX19tYWluLXZpZGVvLWJnJyksXG4gICAgICB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvbnVzJylcblxuXG5jb25zdCBib251c1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9udXNfX21haW4tYnViYmxlJyk7XG5cbndpbmRvdy5vbmxvYWQgPSB2aWRlb1NvdXJjZSh2aWRlbywgJ2ltZy92aWRlby5tcDQnLCAndmlkZW8vbXA0Jyk7XG5cblxuZnVuY3Rpb24gdmlkZW9Tb3VyY2UoZWxlbWVudCwgc3JjLCB0eXBlKSB7XG4gICAgaWYod2luZG93LmlubmVyV2lkdGggPiAxMDI0KSB7XG4gICAgICAgIGxldCBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKVxuICAgICAgICBzb3VyY2Uuc3JjID0gc3JjXG4gICAgICAgIHNvdXJjZS50eXBlID0gdHlwZVxuICAgICAgICB2aWRlby5hcHBlbmRDaGlsZChzb3VyY2UpXG4gICAgfVxufVxuXG5sZXQgdHJpZXNDb3VudGVyID0gMFxuXG5wbGF5QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXG4gICAgaWYgKHRyaWVzQ291bnRlciA9PT0gMCkge1xuICAgICAgICBydW5GaXJzdFJvdGF0aW9uKClcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJ1blNlY29uZFJvdGF0aW9uKClcbiAgICB9XG59KVxuXG5mdW5jdGlvbiBydW5GaXJzdFJvdGF0aW9uKCkge1xuICAgIHdoZWVsLmNsYXNzTGlzdC5hZGQoJ3JlZWwtcm90YXRpb24tZmlyc3QnKVxuICAgIHBsYXlCdG4uY2xhc3NMaXN0LnJlbW92ZSgncHVsc2UtYnRuJylcbiAgICBwbGF5QnRuLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0J1xuICAgIHdyYXBwZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJ1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkb0FmdGVyRmlyc3RSb3RhdGlvbigpXG4gICAgfSwgNjAwMClcbiAgICB0cmllc0NvdW50ZXIrK1xufVxuXG5mdW5jdGlvbiBkb0FmdGVyRmlyc3RSb3RhdGlvbigpIHtcbiAgICB3aGVlbC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKDk5MmRlZyknXG4gICAgd2hlZWwuY2xhc3NMaXN0LnJlbW92ZSgncmVlbC1yb3RhdGlvbi1maXJzdCcpXG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCd3aW4tdGFiJylcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3dpbi1tb2InKVxuICAgIGZpcnN0V29tYW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXG4gICAgZGlzcGxheVBvcHVwKHBvcHVwRmlyc3QpXG4gICAgd3JhcHBlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nXG4gICAgb3ZlcmZsb3cuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJ1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBwbGF5QnRuLmNsYXNzTGlzdC5hZGQoJ3B1bHNlLWJ0bicpXG4gICAgICAgIHBsYXlCdG4uc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInXG4gICAgICAgIGJvbnVzVGV4dC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICB9LCAxMjAwKVxufVxuXG5mdW5jdGlvbiBydW5TZWNvbmRSb3RhdGlvbigpIHtcbiAgICB3aGVlbC5jbGFzc0xpc3QuYWRkKCdyZWVsLXJvdGF0aW9uLXNlY29uZCcpXG4gICAgcGxheUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdwdWxzZS1idG4nKVxuICAgIHBsYXlCdG4uc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnXG4gICAgb3ZlcmZsb3cuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJ1xuICAgIHdyYXBwZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJ1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkb0FmdGVyU2Vjb25kUm90YXRpb24oKVxuICAgIH0sIDYwMDApXG4gICAgdHJpZXNDb3VudGVyKytcbn1cblxuZnVuY3Rpb24gZG9BZnRlclNlY29uZFJvdGF0aW9uKCkge1xuICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnd2luLXRhYicpXG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCd3aW4tbW9iJylcbiAgICBzZWNvbmRXb21hbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJylcbiAgICBkaXNwbGF5UG9wdXAocG9wdXBTZWNvbmQpXG4gICAgd3JhcHBlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nXG59XG5cblxucG9wdXBGaXJzdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBtYWluLmNsYXNzTGlzdC5yZW1vdmUoJ2JsdXInKVxuICAgIGZpcnN0V29tYW4uY2xhc3NMaXN0LmFkZCgnaGlkZScpXG4gICAgY2hpcHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYmx1cicpXG4gICAgfSlcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktb3ZlcmxheScpXG4gICAgcG9wdXBGaXJzdC5jbGFzc0xpc3QuYWRkKCdoaWRlJylcbiAgICBvdmVyZmxvdy5zdHlsZS5vdmVyZmxvdyA9ICd1bnNldCdcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3dpbi10YWInKVxuICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnd2luLW1vYicpXG59KVxuXG5mdW5jdGlvbiBkaXNwbGF5UG9wdXAocG9wdXApIHtcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktb3ZlcmxheScpXG4gICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXG4gICAgbWFpbi5jbGFzc0xpc3QuYWRkKCdibHVyJylcbiAgICBjaGlwcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdibHVyJylcbiAgICB9KVxuICAgIHBvcHVwQ2hpcHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXG4gICAgfSlcbn1cblxuIiwiIl19
